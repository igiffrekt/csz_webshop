---
phase: 10-design-migration-launch
plan: 01
type: implement
wave: 1
depends_on: []
files_modified:
  - apps/web/src/app/globals.css
  - apps/web/tailwind.config.ts
  - apps/web/src/lib/design-tokens.ts
autonomous: true

must_haves:
  truths:
    - "Brand colors defined"
    - "Typography scale configured"
    - "Spacing system established"
  artifacts:
    - apps/web/src/lib/design-tokens.ts
---

<objective>
Establish design system foundation with brand colors, typography, and spacing.

Purpose: Create consistent design tokens that match the reference design adapted for CSZ Tűzvédelem.

Output: Design tokens and Tailwind configuration for the new design.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Create design tokens file</name>
  <files>
    apps/web/src/lib/design-tokens.ts
  </files>
  <action>
Create design tokens with:

```typescript
// Brand colors based on reference design
export const colors = {
  // Primary - Yellow/Gold (safety branding)
  primary: {
    50: '#fffbeb',
    100: '#fef3c7',
    200: '#fde68a',
    300: '#fcd34d',
    400: '#fbbf24',
    500: '#f59e0b', // Main yellow
    600: '#d97706',
    700: '#b45309',
    800: '#92400e',
    900: '#78350f',
  },
  // Secondary - Dark
  secondary: {
    50: '#f9fafb',
    100: '#f3f4f6',
    200: '#e5e7eb',
    300: '#d1d5db',
    400: '#9ca3af',
    500: '#6b7280',
    600: '#4b5563',
    700: '#374151',
    800: '#1f2937',
    900: '#111827', // Main dark
  },
  // Accent for fire safety
  accent: {
    red: '#dc2626',    // Fire/danger
    green: '#16a34a',  // In stock
    blue: '#2563eb',   // Info/links
  },
};

// Typography scale
export const typography = {
  fontFamily: {
    sans: ['Inter', 'system-ui', 'sans-serif'],
    display: ['Inter', 'system-ui', 'sans-serif'],
  },
  fontSize: {
    xs: ['0.75rem', { lineHeight: '1rem' }],
    sm: ['0.875rem', { lineHeight: '1.25rem' }],
    base: ['1rem', { lineHeight: '1.5rem' }],
    lg: ['1.125rem', { lineHeight: '1.75rem' }],
    xl: ['1.25rem', { lineHeight: '1.75rem' }],
    '2xl': ['1.5rem', { lineHeight: '2rem' }],
    '3xl': ['1.875rem', { lineHeight: '2.25rem' }],
    '4xl': ['2.25rem', { lineHeight: '2.5rem' }],
    '5xl': ['3rem', { lineHeight: '1.16' }],
  },
};

// Spacing for consistent layouts
export const spacing = {
  section: '5rem',      // 80px between sections
  container: '1280px',  // Max container width
  gutter: '1.5rem',     // 24px gutter
};
```
  </action>
  <verify>
    - File exports colors, typography, spacing
    - Values match reference design
  </verify>
  <done>Design tokens created</done>
</task>

<task type="auto">
  <name>Task 2: Update globals.css with CSS variables</name>
  <files>
    apps/web/src/app/globals.css
  </files>
  <action>
Add/update CSS custom properties in :root:

```css
:root {
  /* Brand Colors */
  --color-primary: 245 158 11;      /* #f59e0b - Yellow */
  --color-primary-foreground: 255 255 255;

  --color-secondary: 17 24 39;       /* #111827 - Dark */
  --color-secondary-foreground: 255 255 255;

  /* Semantic Colors */
  --color-success: 22 163 74;        /* #16a34a - Green */
  --color-danger: 220 38 38;         /* #dc2626 - Red */
  --color-warning: 245 158 11;       /* #f59e0b - Yellow */
  --color-info: 37 99 235;           /* #2563eb - Blue */

  /* Surface Colors */
  --color-background: 255 255 255;
  --color-foreground: 17 24 39;
  --color-muted: 243 244 246;
  --color-muted-foreground: 107 114 128;

  /* Component Colors */
  --color-card: 255 255 255;
  --color-card-foreground: 17 24 39;
  --color-border: 229 231 235;

  /* Typography */
  --font-sans: 'Inter', system-ui, sans-serif;

  /* Spacing */
  --section-spacing: 5rem;
  --container-max: 1280px;
  --gutter: 1.5rem;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);

  /* Transitions */
  --transition-fast: 150ms;
  --transition-base: 200ms;
  --transition-slow: 300ms;
}
```

Update existing color variables to use new brand colors where primary was red/blue.
  </action>
  <verify>
    - CSS variables defined in :root
    - Yellow as primary color
    - Dark as secondary
  </verify>
  <done>CSS variables updated</done>
</task>

<task type="auto">
  <name>Task 3: Add utility classes for design system</name>
  <files>
    apps/web/src/app/globals.css
  </files>
  <action>
Add utility classes for common design patterns:

```css
/* Section spacing */
.section {
  padding-block: var(--section-spacing);
}

.section-sm {
  padding-block: calc(var(--section-spacing) / 2);
}

/* Container with max-width */
.container-narrow {
  max-width: 960px;
  margin-inline: auto;
  padding-inline: var(--gutter);
}

/* Badge styles */
.badge-discount {
  background-color: rgb(var(--color-danger));
  color: white;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
}

.badge-new {
  background-color: rgb(var(--color-primary));
  color: white;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
}

/* Price styling */
.price {
  font-weight: 700;
  color: rgb(var(--color-foreground));
}

.price-original {
  text-decoration: line-through;
  color: rgb(var(--color-muted-foreground));
  font-weight: 400;
}

/* Rating stars */
.rating {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: rgb(var(--color-primary));
}

/* Image hover zoom */
.image-zoom {
  overflow: hidden;
}

.image-zoom img {
  transition: transform var(--transition-slow) ease;
}

.image-zoom:hover img {
  transform: scale(1.05);
}

/* Card with hover lift - enhanced */
.card-lift {
  transition: transform var(--transition-base) ease,
              box-shadow var(--transition-base) ease;
}

.card-lift:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

/* Section headers */
.section-header {
  text-align: center;
  margin-bottom: 3rem;
}

.section-title {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.section-subtitle {
  color: rgb(var(--color-muted-foreground));
  font-size: 1rem;
}
```
  </action>
  <verify>
    - Utility classes for badges
    - Price styling classes
    - Section layout classes
  </verify>
  <done>Utility classes added</done>
</task>

<task type="auto">
  <name>Task 4: Verify build</name>
  <files>
    -
  </files>
  <action>
Run build to verify CSS changes don't break anything:

```bash
pnpm --filter @csz/web build
```
  </action>
  <verify>
    - Build succeeds
    - No CSS errors
  </verify>
  <done>Build verified</done>
</task>

</tasks>

<verification>
- Design tokens file exists with colors, typography, spacing
- CSS custom properties in globals.css
- Utility classes for badges, prices, sections
- Build passes
</verification>

<success_criteria>
- Yellow (#f59e0b) established as primary brand color
- Design system ready for component development
</success_criteria>
